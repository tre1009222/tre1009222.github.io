(function(O){var A={};(function(){var aj=[""],ak=["left","right"],ai=["up","down"],ah=["downLeft","upRight","downRight","upLeft","spiralIn","spiralOut","zigZagDown","zigZagUp","zigZagRight","zigZagLeft"];O.each(["none","column","row","grid"],function(al,am){A[am]=[]});x(A.none,["cover","flip","push","rotate"],ak.concat(ai),aj);x(A.none,["fade","zoom"],aj,aj);x(A.column,["fade","zoom"],aj,ak);x(A.column,["push","rotate"],ai,ak);O.each(ak,function(al,am){x(A.column,["cover","flip","move"],[am],[am])});x(A.row,["fade","zoom"],aj,ai);x(A.row,["push","rotate"],ak,ai);O.each(ai,function(al,am){x(A.row,["cover","flip","move"],[am],[am])});x(A.grid,["expand","fade","zoom"],aj,ah);x(A.grid,["cover","flip","move","push"],["random"],ah)}());var ab="ontouchstart" in window,e=ae(2.9),E=ac();var V={linear:"linear","":"ease",swing:"ease",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInBack:"cubic-bezier(.60,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175,.885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};var ag,w={top:"bottom",left:"right"},M={zoomIn:"zoomOut",flipDown:"flipUp",flipRight:"flipLeft",moveDown:"moveUp",moveRight:"moveLeft",spinInRight:"spinOutLeft",spinInLeft:"spinOutRight"};(function(){O.each(M,function(ah,ai){M[ai]=ah});O.each(w,function(ah,ai){w[ai]=ah});ag=a(w)}());var l={},p,o,Y,W;(function(){O.each(["transform","transition","transformStyle","animation","backgroundSize","pointerEvents"],function(ah,ai){m(ai)});l.transform3d=c(l.transform,"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)");l.preserve3d=c(l.transformStyle,"preserve-3d");l.cssFilter=aa();switch(l.transition){case"WebkitTransition":Y="webkitTransitionEnd";break;case"OTransition":Y="otransitionend";break;default:Y="transitionend"}switch(l.animation){case"WebkitAnimation":W="webkitAnimationEnd";break;case"OAnimation":W="oanimationend";break;default:W="animationend"}if(l.animation&&/^(Moz|Webkit|O)/.test(l.animation)){p="-"+l.animation.replace("Animation","").toLowerCase()+"-";o=[p]}else{p="";o=["-moz-","-ms-","-webkit-"]}}());var n="0% { "+y("translateZ(0px)")+" } ",Q="10"+n;(function(){requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||O.noop;if(!requestAnimationFrame){requestAnimationFrame=function(ai,ah){ai.call(null)}}}());function s(ah,ai){if(this instanceof s){if(ah){this._running=false;this._complete=true;this._$timer=O("<div/>").appendTo(ah._$screen).addTransitionClass("br-element-transition");if(O.isFunction(ai.click)){this._$timer.css({cursor:"pointer"}).on("click",ai.click)}this.addOnHover(ah._$outmost,ah._namespace)}}else{return new s()}}s.prototype={constructor:s,start:function(){this._running=true;this._complete=false;this._$timer.addClass("br-on");this.wake()},stop:function(){this._running=false;this._complete=true;this._$timer.removeClass("br-on")},pause:function(){this._running=false;this.sleep()},wake:function(){this._$timer.removeClass("br-timer-sleep")},sleep:function(){if(!this._running){this._$timer.addClass("br-timer-sleep")}},addOnHover:function(ai,ah){ai.on("mouseenter"+ah,O.proxy(function(){this.wake()},this)).on("mouseleave"+ah,O.proxy(function(){this.sleep()},this))}};J.prototype=new s();J.prototype.constructor=J;function J(ah,ai){if(this instanceof J){s.call(this,ah,ai);this._$bar=O("<div/>");this._$timer.addClass("br-bar-timer").addClass(/bottom/i.test(ai.position)?"br-bottom":"br-top").append(this._$bar)}else{return new J(ah,ai)}}J.prototype.start=function(ah){if(this._complete){this._delay=ah}this._startTime=O.now();this._$bar.transition({width:"101%"},ah,"linear");s.prototype.start.call(this)};J.prototype.stop=function(){this._elapsed=0;this._$bar.stopTransition(true).width(0);s.prototype.stop.call(this)};J.prototype.pause=function(){this._$bar.stopTransition(true);this._elapsed+=(O.now()-this._startTime);this._$bar.width((this._elapsed/this._delay*101)+"%");s.prototype.pause.call(this)};af.prototype=new s();af.prototype.constructor=af;function af(aj,ak){if(this instanceof af){s.call(this,aj,ak);var ai={},ah=ak.position.split(" ",2);ai[Z(ah[0],["left","right"],"right")]=0;ai[Z(ah[1],["top","bottom"],"top")]=0;this._$spinner=O("<div/>",{"class":"br-spinner",html:"<div/>"});this._$fill=O("<div/>",{"class":"br-pie-fill",html:"<div/>"});this._$mask=O("<div/>",{"class":"br-pie-mask"});this._$el=this._$spinner.add(this._$fill).add(this._$mask);this._$timer.addClass("br-pie-timer").css(ai).append(this._$el)}else{return new af(aj,ak)}}af.prototype.start=function(ah){if(this._complete){this._delay=ah}this._startTime=O.now();this._$spinner.transition({transform:"rotate(360deg)"},ah,"linear");if(this._elapsed<this._delay/2){var ai={duration:0,easing:"linear",delay:this._delay/2-this._elapsed};this._$fill.transition({opacity:1},ai);this._$mask.transition({opacity:0},ai)}s.prototype.start.call(this)};af.prototype.stop=function(){this._elapsed=0;this._$el.stopTransition(true);this._$fill.css({opacity:0});this._$mask.css({opacity:1});this._$spinner.css({transform:"rotate(0)"});s.prototype.stop.call(this)};af.prototype.pause=function(){this._$el.stopTransition(true);this._elapsed+=(O.now()-this._startTime);var ah=(this._elapsed/this._delay*360);this._$spinner.css({transform:"rotate("+ah+"deg)"});if(this._elapsed<this._delay/2){this._$fill.css({opacity:0});this._$mask.css({opacity:1})}s.prototype.pause.call(this)};function q(ah){if(this instanceof q){if(ah){this._timeout=null;this._requestId=null;this._context=ah;this._$container=O("<div/>",{"class":"br-effects"}).appendTo(this._context._$screen);this._transform=this._context._transform;this._support3d=l.transform3d&&l.preserve3d&&this._context._cssTransition}}else{return new q(ah)}}q.prototype={constructor:q,createElements:function(){var aj=this._rows*this._columns,ah=this._is3D?q.CUBOID:q.PLANE,ai="";while(aj--){ai+='<div class="br-effect">'+ah+"</div>"}this._$container.toggleClass("br-2d",!this._is3D).html(ai);this._$el=this._$container.children();if(this._shapeColor){this._$el.find(">.br-shape").children().css({backgroundColor:this._shapeColor})}},initElements:function(){var au=this.getCurrImage(),ar=au.position().top,an=au.position().left,aj=this.getPrevImage(),at,ah;if(aj){at=aj.position().top;ah=aj.position().left}this.addImage();var aw=this._$container.height();for(var am=0;am<this._rows;am++){var ao=this._$container.width(),av=Math.min(this._height,aw);aw-=av;for(var al=0;al<this._columns;al++){var ai=Math.min(this._width,ao),aq=am*this._height,ak=al*this._width,ax=this._$el.eq(am*this._columns+al),ap=O(ax[0].firstChild);ax.css({top:aq,left:ak,width:ai,height:av});ap.find(">.br-prev-side>img").css({left:(ah-ak),top:(at-aq)}).end().find(">.br-active-side>img").css({left:(an-ak),top:(ar-aq)});if(this._is3D){this.setCuboid(ap,ai,av,ax.data("depth"))}ao-=ai}}this._$el.css({visibility:"visible"});if(this._hideItems){this._context._$items.css({visibility:"hidden"})}},clear:function(){clearTimeout(this._timeout);cancelAnimationFrame(this._requestId);this._$container.empty();this._progress=false},getType:function(){if(1<this._rows){if(1<this._columns){return q.GRID}else{return q.ROW}}else{if(1<this._columns){return q.COLUMN}}return"none"},initOrder:function(){if(0>O.inArray(this._order,q.ORDERS)){this._order="right"}if(this._context._backward&&this._autoReverse){this._order=this.getOpposite(this._order)}},initDirection:function(){if(0>O.inArray(this._direction,["up","down","left","right","random"])){this._direction="right"}if(this._context._backward&&this._autoReverse){this._direction=this.getOpposite(this._direction)}},getOpposite:function(ah){if(ah in q.OPPOSITE){return q.OPPOSITE[ah]}return ah},getCurrImage:function(){if(this._context._$currItem){return this._context._$currItem.find(">img.br-img")}},getPrevImage:function(){if(this._context._$prevItem){return this._context._$prevItem.find(">img.br-img")}},addImage:function(){O.each({">.br-active-side":this.getCurrImage(),">.br-prev-side":this.getPrevImage()},O.proxy(function(ai,aj){if(aj&&aj.length){var al=aj[0].getBoundingClientRect(),ak=al.width||aj.width(),ah=al.height||aj.height(),am=O("<img/>",{src:aj.attr("src"),alt:"",css:{width:ak,height:ah}});this._$el.find(">.br-shape").find(ai).html(am)}},this))},setCuboid:function(am,ai,aq,al){var ak="translateZ("+(ai/2)+"px)",ao="translateZ("+(aq/2)+"px)",ap="translateZ("+(al/2)+"px)",aj=(ai-al)/2,an=(aq-al)/2,ah=am.find(">.br-face-back").hasClass("br-inverted")?"rotate(180deg) ":"";am.find(">.br-face-front").css({transform:ap}).end().find(">.br-face-back").css({transform:"rotateY(180deg) "+ah+ap}).end().find(">.br-face-left").css({width:al,left:aj,transform:"rotateY(-90deg) "+ak}).end().find(">.br-face-right").css({width:al,left:aj,transform:"rotateY(90deg) "+ak}).end().find(">.br-face-top").css({height:al,top:an,transform:"rotateX(90deg) "+ao}).end().find(">.br-face-bottom").css({height:al,top:an,transform:"rotateX(-90deg) "+ao})},updateKeyframes:function(){var ao=this._context._sheet,an=this._context._activeIndex,ar,am,aq,ak=0;if(O.isNumeric(this._depth)){ar=this._depth;am=[0,1,0];aq=["0%","50%","100%"]}else{if("flip"===this._effect){ar=("up"===this._direction||"down"===this._direction?this._height:this._width)/2;am=q.SINES;aq=q.FLIP_PCT}else{ar=this._$el.data("depth")/2;ak=ar;ar/=Math.cos(z(45));am=q.COSINES;aq=q.ROTATE_PCT}}var ah=am.length,ap="@"+p+"keyframes "+("br-"+this._context._uid+"-"+an)+" { ";for(var al=0;al<ah;al++){var ai=(am[al]*ar);ap+=(aq[al]+" { "+y("translateZ("+Math.min(0,ak-ai)+"px)")+" } ")}ap+="} ";try{ao.deleteRule(an);ao.insertRule(ap,an)}catch(aj){}},animate:function(ak,aj,al){if(this._is3D){this.updateKeyframes();if(this._shapeShading){var ai=("flip"===this._effect?aj/2:aj);this._$el.find(">.br-shape>.br-prev-side").each(function(){O("<div/>",{"class":"br-shading"}).animation("br-shade-in",{duration:ai,easing:al,playState:"paused",complete:function(am){am.stopPropagation()}}).appendTo(O(this))})}}var ah={duration:aj,easing:al};this._requestId=requestAnimationFrame(O.proxy(function(){this.animateElement(ak,ah)},this))},animateElement:function(al,aq){var ap=O(al.shift()),ak=ap.data("selector"),ao=(ak?ap.find(ak):ap),an=[],am=!al.length;if(this._is3D){var ai=O.extend({},aq);if(am){var ah=O.Deferred();an.push(ah.promise());ai.complete=function(){ah.resolve()}}ap.animation("br-"+this._context._uid+"-"+this._context._activeIndex,ai).find(">.br-shape>.br-prev-side>.br-shading").css({animationPlayState:"running"})}if(am){var aj=O.Deferred();an.push(aj.promise());aq.complete=function(){aj.resolve()};O.when.apply(null,an).always(O.proxy(function(){this._context.activateItem(false);this._$container.empty();this._progress=false},this))}ao.transition(ap.data("to"),aq);if(!am){this._timeout=setTimeout(O.proxy(function(){this._requestId=requestAnimationFrame(O.proxy(function(){this.animateElement(al,aq)},this))},this),this._interval)}},getPromises:function(){var ah=[];this.getCurrImage().add(this.getPrevImage()).each(function(an,am){var al=O(am);if(al&&al.length){var ak=al.clone(),aj=ak[0];if(typeof aj.readyState!=="undefined"){if("complete"===aj.readyState){return false}}else{if(aj.complete){return false}}var ai=O.Deferred();ah.push(ai.promise());ak.brHandleImage(ak.attr("src"),{complete:function(){ai.resolve()},error:function(){ai.reject()}})}});return ah},inProgress:function(){return this._progress},getElementArray:function(){var ah;switch(this._order){case"up":case"down":case"left":case"right":ah=this.getDirectionalArray(this._order);break;case"upLeft":case"upRight":case"downLeft":case"downRight":ah=this.getDiagonalArray(this._order);break;case"spiralIn":case"spiralOut":ah=this.getSpiralArray();break;case"zigZagUp":case"zigZagDown":case"zigZagLeft":case"zigZagRight":ah=this.getZigZagArray(this._order);break;case"random":ah=this._$el.toArray();v(ah);break;default:ah=this._$el.toArray()}if(this._isReverse){ah.reverse()}return ah},setFn:function(aj,ai){var ak="set"+F(aj),ah=ak+F(ai);if(!O.isFunction(this[ah])){ah=ak+F(this._direction)}return ah},setAlternate:function(ah){this[this.setFn(ah,this._direction)](this._$el.filter(":even"));this[this.setFn(ah,this.getOpposite(this._direction))](this._$el.filter(":odd"))},setRandomDirection:function(ah,ai,aj){if(!aj){aj=["up","down","left","right"]}ah.each(function(){O(this).data({dir:t(aj)})});O.each(aj,O.proxy(function(al,ak){var am=ah.filter(function(){return O(this).data("dir")===ak});this[this.setFn(ai,ak)](am)},this))},setCoverDown:function(ah){this.setPush(ah,"hidden","Y",true)},setCoverUp:function(ah){this.setPush(ah,"hidden","Y",false)},setCoverRight:function(ah){this.setPush(ah,"hidden","X",true)},setCoverLeft:function(ah){this.setPush(ah,"hidden","X",false)},setCoverRandom:function(ah){this.setRandomDirection(ah,"cover")},setPushDown:function(ah){this.setPush(ah,"visible","Y",true)},setPushUp:function(ah){this.setPush(ah,"visible","Y",false)},setPushRight:function(ah){this.setPush(ah,"visible","X",true)},setPushLeft:function(ah){this.setPush(ah,"visible","X",false)},setPushRandom:function(ah){this.setRandomDirection(ah,"push")},setPush:function(at,ah,aj,am){var ak="front",al="back",an=("Y"===aj?"height":"width"),aq,ap;if(this._transform){var ai="translate"+aj;aq={transform:ai+"(-50%)"};ap={transform:ai+"(0)"}}else{var ao=("Y"===aj?"top":"left");aq={};ap={};aq[ao]=-this["_"+an];ap[ao]=0}if(!am){var ar=aq;aq=ap;ap=ar;ar=al;al=ak;ak=ar}at.data({to:ap}).find(">.br-shape").addClass("br-extend-"+an).css(aq).find(">.br-"+ak).addClass("br-active-side").end().find(">.br-"+al).addClass("br-prev-side").css("visibility",ah)},setMoveDown:function(ah){this.setMove(ah,"Y",-this._$container.height())},setMoveUp:function(ah){this.setMove(ah,"Y",this._$container.height())},setMoveRight:function(ah){this.setMove(ah,"X",-this._$container.width())},setMoveLeft:function(ah){this.setMove(ah,"X",this._$container.width())},setMoveRandom:function(ah){this.setRandomDirection(ah,"move")},setMove:function(ah,ai,ak){var am,al;if(this._transform){var aj="translate"+ai;am={transform:aj+"("+ak+"px)"};al={transform:aj+"(0)"}}else{if("Y"===ai){am={marginTop:ak};al={marginTop:0}}else{am={marginLeft:ak};al={marginLeft:0}}}ah.data({to:al}).css(am).find(">.br-shape").find(">.br-front").addClass("br-active-side").end().find(">.br-back").hide()},setRotateDown:function(ah){this.setRotate(ah,"X",false)},setRotateUp:function(ah){this.setRotate(ah,"X",true)},setRotateRight:function(ah){this.setRotate(ah,"Y",true)},setRotateLeft:function(ah){this.setRotate(ah,"Y",false)},setRotateRandom:function(ah){this.setRandomDirection(ah,"rotate",["up","down"])},setRotate:function(al,am,ai){var aj="translateZ("+(-al.data("depth")/2)+"px) rotate"+am,ah,ak;if(ai){ah="";ak=(am==="X"?"bottom":"left")}else{ah="-";ak=(am==="X"?"top":"right")}al.data({to:{transform:aj+"("+ah+"90deg)"}}).find(">.br-shape").css({transform:aj+"(0deg)"}).find(">.br-face-"+ak).addClass("br-active-side").end().find(">.br-face-front").addClass("br-prev-side")},setFlipDown:function(ah){this.setFlip(ah,"X",false)},setFlipUp:function(ah){this.setFlip(ah,"X",true)},setFlipRight:function(ah){this.setFlip(ah,"Y",true)},setFlipLeft:function(ah){this.setFlip(ah,"Y",false)},setFlipRandom:function(ah){this.setRandomDirection(ah,"flip")},setFlip:function(ak,al,ai){var aj="translateZ("+(-ak.data("depth")/2)+"px) rotate"+al,ah=ai?"":"-";ak.data({to:{transform:aj+"("+ah+"180deg)"}}).find(">.br-shape").css({transform:aj+"(0deg)"}).find(">.br-face-front").addClass("br-prev-side").end().find(">.br-face-back").addClass("br-active-side").toggleClass("br-inverted",al==="X")},fade:function(){var ah=">.br-shape";this._$el.data({selector:ah,to:{opacity:1}}).find(ah).css({opacity:0}).find(">.br-front").addClass("br-active-side").end().find(">.br-back").hide()},zoom:function(){var aj="br-active-side",ai="br-prev-side",al={opacity:1,transform:"scale(1)"},ak={opacity:0,transform:"scale(2)"};if("out"===this._direction){var ah=al;al=ak;ak=ah;ah=aj;aj=ai;ai=ah}this._$el.data({selector:">.br-shape>.br-back",to:ak}).find(">.br-shape").addClass("br-stack").find(">.br-front").addClass(aj).end().find(">.br-back").addClass(ai).css(al)},expand:function(){var ah=">.br-shape",aj,ai;if(this._transform){aj={transform:"scale(0)"};ai={transform:"scale(1)"}}else{aj={width:0,height:0};ai={width:this._width,height:this._height}}this._$el.data({selector:ah,to:ai}).find(ah).css(aj).find(">.br-front").addClass("br-active-side").end().find(">.br-back").hide()},push:function(){if(this._alternate){this.setAlternate("push")}else{this[this.setFn("push",this._direction)](this._$el)}this._$el.data({selector:">.br-shape"})},cover:function(){if(this._alternate){this.setAlternate("cover")}else{this[this.setFn("cover",this._direction)](this._$el)}this._$el.data({selector:">.br-shape"})},slide:function(){this._autoReverse=true;this._direction=this.getOpposite(this._direction);if(this._alternate){this.setAlternate("push")}else{this[this.setFn("push",this._direction)](this._$el)}this._$el.data({selector:">.br-shape"})},move:function(){this._isReverse=!this._isReverse;this[this.setFn("move",this._direction)](this._$el)},flip:function(){this._$el.data({selector:">.br-shape",depth:this._shapeDepth});if(this._alternate){this.setAlternate("flip")}else{this[this.setFn("flip",this._direction)](this._$el)}},rotate:function(){this._$el.data({selector:">.br-shape",depth:("left"===this._direction||"right"===this._direction?this._width:this._height)});if(this._alternate){this.setAlternate("rotate")}else{this[this.setFn("rotate",this._direction)](this._$el)}},start:function(ai){this._progress=true;O.each(q.DATA,O.proxy(function(al,am){this["_"+am]=ai[am]},this));this._columns=P(this._columns,1);this._rows=P(this._rows,1);this._width=Math.ceil(this._$container.width()/this._columns);this._height=Math.ceil(this._$container.height()/this._rows);if("random"===this._effect){this.setRandomEffect()}this._is3D=-1<O.inArray(this._effect,["flip","rotate"]);if(this._is3D&&!this._support3d){this._effect="push";this._is3D=false}this._interval=h(this._interval,0);this._shapeDepth=h(this._shapeDepth,0);this.initDirection();this.initOrder();this._isReverse=-1<O.inArray(this._order,q.REVERSE);this._hideItems=-1<O.inArray(this._effect,["flip","push","rotate","slide","zoom"]);this.createElements();this[this._effect]();this.initElements();var ah=this.getElementArray(),aj=h(ai.duration,O.fn.bannerRotator.defaults.duration),ak=ai.easing;this.animate(ah,aj,ak)},setRandomEffect:function(){var ah=this.getType(),ai=t(A[ah]);O.each(["effect","direction","order"],O.proxy(function(aj,ak){this["_"+ak]=ai[ak]},this))},getDiagonalArray:function(ah){var ak=[],al=0,ai=(this._rows-1)+(this._columns-1)+1,aj=("downLeft"===ah||"upRight"===ah);while(al!=ai){i=Math.min(this._rows-1,al);while(i>=0){if(aj){j=(this._columns-1)-Math.abs(i-al);if(j<0){break}}else{j=Math.abs(i-al);if(j>=this._columns){break}}ak.push(this._$el.eq(i*this._columns+j));i--}al++}return ak},getZigZagArray:function(ah){var ak=0,ai=0,aj=true,an=[],am=this._$el.length,al;if("zigZagUp"===ah||"zigZagDown"===ah){for(al=0;al<am;al++){an[al]=this._$el.eq(ak*this._columns+ai);if(aj){ai++}else{ai--}if(ai==this._columns||ai<0){aj=!aj;ai=(aj?0:this._columns-1);ak++}}}else{for(al=0;al<am;al++){an[al]=this._$el.eq(ak*this._columns+ai);if(aj){ak++}else{ak--}if(ak==this._rows||ak<0){aj=!aj;ak=(aj?0:this._rows-1);ai++}}}return an},getDirectionalArray:function(ah){var ak;if("right"===ah||"left"===ah){ak=[];for(var ai=0;ai<this._columns;ai++){for(var aj=0;aj<this._rows;aj++){ak.push(this._$el.eq(aj*this._columns+ai))}}}else{ak=this._$el.toArray()}return ak},getSpiralArray:function(){var al=0,ak=0,ai=this._rows-1,an=this._columns-1,aj=0,ah=an,ao=[];while(ai>=0&&an>=0){var am=0;while(true){ao.push(this._$el.eq(al*this._columns+ak));if((++am)>ah){break}switch(aj){case 0:ak++;break;case 1:al++;break;case 2:ak--;break;case 3:al--;break}}switch(aj){case 0:aj=1;ah=(--ai);al++;break;case 1:aj=2;ah=(--an);ak--;break;case 2:aj=3;ah=(--ai);al--;break;case 3:aj=0;ah=(--an);ak++;break}}return ao}};q.DATA=["effect","columns","rows","interval","direction","order","alternate","autoReverse","depth","shapeColor","shapeShading","shapeDepth"];q.CUBOID='<div class="br-cuboid br-shape">						<div class="br-face-front"></div>			    		<div class="br-face-back"></div>						<div class="br-face-left"></div>						<div class="br-face-right"></div>						<div class="br-face-top"></div>						<div class="br-face-bottom"></div>					</div>';q.PLANE='<div class="br-plane br-shape">						<div class="br-front"></div>						<div class="br-back"></div>					</div>';q.COLUMN="column";q.ROW="row";q.GRID="grid";q.EFFECTS=["cover","expand","fade","flip","move","push","rotate","slide","zoom"];q.OPPOSITE={down:"up",right:"left",downLeft:"upRight",downRight:"upLeft",spiralIn:"spiralOut",zigZagDown:"zigZagUp",zigZagRight:"zigZagLeft"};(function(){q.REVERSE=[];O.each(q.OPPOSITE,function(ah,ai){q.OPPOSITE[ai]=ah;q.REVERSE.push(ai)});q.ORDERS=a(q.OPPOSITE);q.ORDERS.push("random")}());(function(){q.SINES=[];q.FLIP_PCT=[];var ah=20,ak=Math.PI,aj=ak/ah;for(var ai=0;ai<=ah;ai++){q.FLIP_PCT[ai]=Math.round(ai/ah*100)+"%";q.SINES[ai]=G(Math.sin(ak),5);ak-=aj}}());(function(){q.COSINES=[];q.ROTATE_PCT=[];var ah=45,ak=z(45),aj=ak/(ah/2);for(var ai=0;ai<=ah;ai++){q.ROTATE_PCT[ai]=Math.round(ai/ah*100)+"%";q.COSINES[ai]=G(Math.cos(ak),5);ak-=aj;if(0>=ak){aj=-aj}}}());function u(ah,ai,aj){if(this instanceof u){this._$img=ah;this._effect=ai;this._options={};if(l.animation&&!ad(this._effect)){aj=aj||{};if(/^random/.test(this._effect)){this._effect=this.getRandom()}else{this._effect=b(this._effect)}if(this._effect in u.REVERSES){this._effect=u.REVERSES[this._effect];aj.direction="reverse"}this._effect="br-"+this._effect;this._options={duration:h(aj.duration,5000),easing:S(aj.easing,"linear"),playState:"paused",direction:aj.direction};this.set()}}else{return new u(ah,ai,aj)}}(function(){u.PAN=["up","down","left","right","up-left","up-right","down-left","down-right"];u.ZOOMIN=["zoom-in"];u.ZOOMOUT=["zoom-out"];O.each(u.PAN,function(ah,ai){u.PAN[ah]="pan-"+ai;u.ZOOMIN.push("zoom-in-"+ai);u.ZOOMOUT.push("zoom-out-"+ai)});u.ZOOM=u.ZOOMIN.concat(u.ZOOMOUT);u.EFFECTS=u.PAN.concat(u.ZOOM);u.REVERSES={"pan-left":"pan-right","pan-up":"pan-down","pan-up-left":"pan-down-right","pan-up-right":"pan-down-left","zoom-out":"zoom-in","zoom-out-left":"zoom-in-right","zoom-out-right":"zoom-in-left","zoom-out-up":"zoom-in-down","zoom-out-down":"zoom-in-up","zoom-out-up-left":"zoom-in-down-right","zoom-out-up-right":"zoom-in-down-left","zoom-out-down-left":"zoom-in-up-right","zoom-out-down-right":"zoom-in-up-left"}}());u.prototype={constructor:u,set:function(){this._$img.stopAnimation(true).animation(this._effect,this._options)},start:function(){this._$img.css({animationPlayState:"running"})},stop:function(){this._$img.css({animationPlayState:"paused"})},restart:function(){this.set();this.start()},getRandom:function(){var ah=this._effect.substring("random".length).toUpperCase(),ai=u[ah];if(!O.isArray(ai)){ai=u.EFFECTS}return t(ai)}};function T(ah,ai){if(this instanceof T){this._uid=T.uid++;this._options=ai;this._stageWidth=this._options.width;this._stageHeight=this._options.height;this._rotate=this._options.autoPlay;this._cssTransition=(l.transition&&!e?this._options.cssTransition:false);this._transform=l.transform&&this._cssTransition;if(!this._cssTransition){O.fn.transition=O.fn.animate;O.fn.stopTransition=O.fn.stop}this._timeout=null;this._tooltipId=null;this._layerIds=[];this._requestIds=[];this._interact=false;this._delay=0;this._$rotator=O(ah);this._$outmost=this._$rotator;this._namespace="."+T.PLUGIN+"."+this._uid;this._isWhite=this._$rotator.hasClass("white");this._hasShadow=this._$rotator.hasClass("shadow");this._html=this._$rotator.html();this._style=this._$rotator.attr("style");this.init()}else{return new T(ah,ai)}}T.uid=0;T.PLUGIN="rotator";T.EVENTS=["create","first","last","prev","next","play","pause","change","changed","load"];T.ANIMATE_SPEED=500;T.prototype={constructor:T,init:function(){this._$rotator.attr("tabindex",-1).toggleClass("br-no-touch",!ab);if(!this._$rotator.hasClass("banner-rotator")){this._$rotator.addClass("banner-rotator")}this._$list=this._$rotator.find(">ul");if(!this._$list.hasClass("slides")){this._$list.addClass("slides")}if(this._options.shuffle){X(this._$list)}this._$items=this._$list.children().addClass("br-item");this._numItems=this._$items.length;if("random"===this._options.startIndex){this._activeIndex=Math.floor(Math.random()*this._numItems)}else{var ai=h(this._options.startIndex,0);this._activeIndex=r(ai,0,this._numItems-1)?ai:0}this.createStyle();this.initOuterButtons();this.initStage();this.initItems();this.initNavThumbs();this.initCPanel();if(this._options.hideControl){this._$controls=this._$screen.find(">.br-nav-wrapper").add(this._$rotator.find(">.br-cpanel-wrapper"));if(this._$outmost.hasClass("br-outer-navs")){this._$controls=this._$controls.add(this._$outmost.children(":not(.banner-rotator, .br-wrapper)"))}this._$controls.addTransitionClass("br-opacity-transition")}if(this._options.responsive){this.resize();O(window).on("resize"+this._namespace,f(O.proxy(this.resize,this),50))}else{var ah=this._$rotator.css({width:this._stageWidth,height:this._stageHeight});O.each([".br-wrapper",".br-outer-navs"],function(al,aj){var ak=ah.parent(aj);if(ak.length){ak.css({width:ah.outerWidth(true),height:ah.outerHeight(true)});ah=ak}})}if(this._options.mousewheel){this._$rotator.on("mousewheel"+this._namespace+" DOMMouseScroll"+this._namespace,O.proxy(this.mousescroll,this))}if(this._options.keyboard){this._$rotator.on("keydown"+this._namespace,O.proxy(this.keyControl,this))}if(ab){if(!ad(this._options.swipe)){if("reverse"===this._options.swipeDirection){this.swipeFwd=this.prevSlide;this.swipeBack=this.nextSlide}else{this.swipeFwd=this.nextSlide;this.swipeBack=this.prevSlide}this._$rotator.on("touchstart"+this._namespace,O.proxy(this.touchStart,this))}}else{if(this._options.pauseOnHover){this._$outmost.on("mouseenter"+this._namespace,O.proxy(this.pause,this)).on("mouseleave"+this._namespace,O.proxy(this.play,this))}}if(this._options.playOnce){this._$rotator.on("rotatorLast",O.proxy(this.pause,this))}this.triggerEvent("create");if(this._options.preload){this.setPreload()}else{this.loadNextImage(this._$items.toArray());this.loadSlide()}},setPreload:function(){this._$preloader.hide();var ai=this._$rotator.children();if(this._$outmost.hasClass("br-outer-navs")){ai=ai.add(this._$outmost.children(":not(.banner-rotator, .br-wrapper)"))}ai.addClass("br-hidden");var ah=O("<div/>",{"class":"br-load-screen"}).appendTo(this._$rotator);this._$progressBar=O("<div/>",{"class":"br-progress-bar",html:"<div/>"}).appendTo(ah);this.loadNextImage(this._$items.toArray(),function(){setTimeout(O.proxy(function(){ai.removeClass("br-hidden");ah.fadeOut(T.ANIMATE_SPEED,function(){O(this).remove()});this.loadSlide()},this),600)})},initStage:function(){this._$screen=this._$list.wrap('<div class="br-screen"></div>').parent();this._$stage=this._$screen.wrap('<div class="br-stage"></div>').parent();if(this._options.backgroundColor){this._$stage.css({backgroundColor:this._options.backgroundColor})}this.createBorder();this._effects=new q(this);this._$screen.append('<div class="br-preloader"></div><div class="br-links"></div><div class="br-layers"></div>');this._$preloader=this._$screen.find(">.br-preloader");this._$linkWrapper=this._$screen.find(">.br-links");this._$layerWrapper=this._$screen.find(">.br-layers");if(this._options.pauseOnInteraction){this._$linkWrapper.on("click"+this._namespace,">a",O.proxy(this.pause,this))}if(!ad(this._options.timer)){var ah={position:this._options.timerPosition,click:O.proxy(this.togglePlay,this)};if("bar"===this._options.timer){this._timer=new J(this,ah)}else{if("pie"===this._options.timer&&l.animation&&this._transform){this._timer=new af(this,ah)}}}this.initSideButtons()},createBorder:function(){O.each(["width","style","color","radius"],O.proxy(function(aj,ah){ah="border"+F(ah);var ai=this._options[ah];if(!H(ai)){this._$rotator.css(ah,ai)}},this));if(this._$rotator.brHasBorder()){this._$rotator.toggleClass("br-flat-shadow",this._hasShadow).add(this._$screen).css({overflow:"hidden"})}else{if(this._hasShadow&&l.transform3d&&l.preserve3d){O("<div/>",{"class":"br-3d-shadow"}).prependTo(this._$rotator)}}},createBorderWrapper:function(){var ah=O("<div/>",{"class":"br-wrapper"}).brCopyBorder(this._$rotator);this._$rotator.css({border:"none",borderRadius:0}).removeClass("br-flat-shadow").wrap(ah);ah=this._$rotator.parent();if(ah.brHasBorder()){ah.toggleClass("br-flat-shadow",this._hasShadow).css({overflow:"hidden"})}else{if(this._hasShadow&&"horizontal"===this._orientation&&"bottom"===this._cpPosition.y){this._$rotator.find(">.br-3d-shadow").remove();this._$extPanel.addClass("br-flat-shadow")}}},initItems:function(){var ai=["effect","duration","easing","delay"],aj=["kbEffect","kbDuration","kbEasing"],ah=["columns","rows","interval","direction","order","alternate","autoReverse","depth","shapeColor","shapeShading","shapeDepth","imagePosition"].concat(ai).concat(aj);this._$items.each(O.proxy(function(ao,an){var al=O(an).data("ready",false),am=al.children("img").first(),ak=al.children("a").first();if(ak.length&&ak.find(">img").length){if(!am.length||ak.index()<am.index()){al.data({link:ak.attr("href"),target:ak.attr("target")});am=ak.find(">img").unwrap()}}am.addClass("br-img").data("src",am.data("src")||am.attr("src"));O.each(["thumb","nav-thumb"],function(ap,aq){am.data(aq,am.data(aq)||am.data("src"))});if("image"===this._options.tooltip){am.data("tooltip",am.data("tooltip")||am.data("thumb"));al.prepend(O("<img/>",{alt:"","class":"tooltip",src:am.data("tooltip")}))}else{if("text"===this._options.tooltip){al.data({tooltip:al.find(">.tooltip").html()||am.attr("title")})}}if(al.data("link")){O("<a/>",{id:"br-link-"+ao,"class":"br-link",href:al.data("link"),target:al.data("target")}).appendTo(this._$linkWrapper)}al.brMapShorthand("transition",ai).brMapShorthand("ken-burns",aj);O.each(ah,O.proxy(function(ap,aq){al.data(aq,S(al.data(aq),this._options[aq]))},this));al.data({easing:k(al.data("easing"),this._cssTransition),kbEasing:k(al.data("kbEasing"),true)});this.initLayer(al);this.injectKeyframes(al)},this));this._$layers=this._$layerWrapper.find(".br-layer");if(this._options.layerOnHover){this.addOnHover(this._$layerWrapper,"br-transparent")}},createStyle:function(){var ah=document.createElement("style");ah.type="text/css";document.getElementsByTagName("head")[0].appendChild(ah);this._sheet=ah.sheet||ah.styleSheet},injectKeyframes:function(ah){try{var ak=O.isNumeric(ah.data("depth"))?-Math.abs(ah.data("depth")):0,aj=this._sheet.rules||this._sheet.cssRules;this._sheet.insertRule("@"+p+"keyframes "+("br-"+this._uid+"-"+ah.index())+" { "+n+"50% { "+y("translateZ("+ak+"px)")+" } "+Q+"} ",aj.length)}catch(ai){}},initCPanel:function(){this._$cpanel=O("<div/>",{"class":"br-cpanel"});this._cpPosition=L(this._options.cpanelPosition);if("vertical"===this._options.cpanelOrientation){this._orientation="vertical";if("center"===this._cpPosition.x){this._cpPosition.x="left"}}else{this._orientation="horizontal";if("center"===this._cpPosition.y){this._cpPosition.y="bottom"}}this._$cpanel.addClass("br-"+this._orientation);if(this._options.cpanelOutside){this._$cpanel.prependTo(this._$rotator)}else{this._$cpanel.appendTo(this._$rotator)}if(this._options.groupButtons&&"bullet"!==this._options.thumbnails){var aj=("vertical"===this._orientation?"Width":"Height");this._$cpanel.addClass("br-button-group");this._options["thumb"+aj]=this._options["button"+aj]=Math.max(this._options["thumb"+aj],this._options["button"+aj])}this.initThumbnails();this.initButtons();var ai=this._$cpanel.children();if(ai.length){this._$cpWrapper=this._$cpanel.wrap('<div class="br-cpanel-wrapper"></div>').parent();this.initButtonGroup();if("vertical"===this._orientation){this._$cpanel.data({pos:"top",coord:"y",dim:"height",outerDim:"outerHeight"});var al=Math.max.apply(null,ai.map(function(){return O(this).outerWidth(true)}).get());ai.each(function(){O(this).css({left:(al-O(this).outerWidth(true))/2})});this._$cpanel.css({width:al});this.setNavOffset()}else{this._$cpanel.data({pos:"left",coord:"x",dim:"width",outerDim:"outerWidth"});var ak=Math.max.apply(null,ai.map(function(){return O(this).outerHeight(true)}).get());this._$cpanel.css({height:ak})}var am=this._$cpanel.data(),an=am.dim,ah=am.outerDim;if("center"===this._cpPosition[am.coord]){this._$cpWrapper.css(am.pos,"50%");this._$cpanel.css(am.pos,-this._$cpanel[ah](true)/2)}else{this._$cpWrapper.css(this._cpPosition[am.coord],0)}if(this._options.cpanelOutside){this["setOuter"+F(this._orientation)+"CPanel"]()}else{this.setInnerCPanel()}if(!ad(this._options.thumbnails)){this._buttonSize=ai.not(".br-thumbnails")["brTotal"+F(an)](true);this._cpanelMargin=this._$cpanel[ah](true)-this._$cpanel[an]();if(this._options.responsive){this._$rotator.on("resizeCPanel"+this._namespace,O.proxy(this.resizeCPanel,this));this.addThumbScroll()}else{if(this._$cpanel[ah](true)>this["_stage"+F(an)]){this.resizeCPanel();this.addThumbScroll()}}}}else{this._$cpanel.remove()}},setNavOffset:function(){var ai=this._$cpWrapper.width(),aj=("left"===this._cpPosition.x?"prev":"next"),ah=">.br-"+aj+"-wrapper";if(this._$outmost.hasClass("br-outer-navs")){this._$outmost.find(ah).css(this._cpPosition.x,"+="+ai)}else{if("large"===this._options.navButtons&&!this._options.cpanelOutside){var ak=this._$screen.find(">.br-nav-wrapper"),al={};al["margin-"+this._cpPosition.x]="+="+ai;if(ak.find(ah).length){ak.find(ah).find(">.br-nav-thumb").css(al).data({margin:ai}).end().width(ak.find(ah).children().brTotalWidth(true))}else{ak.find(">.br-side-"+aj).css(al)}}}},initButtonGroup:function(){var ai=this._$cpanel.children().first(),ah=this._$cpanel.children().last();if(ai.hasClass("br-thumbnails")){ai=ai.find(">ul").children().first()}ai.addClass("br-first-item");if(ah.hasClass("br-thumbnails")){ah=ah.find(">ul").children().last()}ah.addClass("br-last-item")},setInnerCPanel:function(){this._$cpWrapper.css(this._cpPosition["vertical"===this._orientation?"x":"y"],0);if(this._options.cpanelOnHover){this.addOnHover(this._$cpanel,"br-transparent")}},createCPanelBg:function(){this._$extPanel=this._$cpWrapper.wrap('<div class="br-ext-cp"></div>').parent();this._$extPanel.toggleClass("white",this._isWhite||this._$rotator.hasClass("white-cpanel"));if(l.transform3d&&l.preserve3d){var ah=O("<div/>").toggleClass("white",this._$extPanel.hasClass("white"));O("<div/>",{"class":"br-stage-bg",html:O("<div/>").append(ah)}).prependTo(this._$stage);if("vertical"===this._orientation){ah.addClass("br-face-"+this._cpPosition.x);if(this._options.responsive){this._$rotator.on("resizeCPanel"+this._namespace,function(){ah.width(ah.height())})}else{ah.width(this._stageHeight)}}else{ah.addClass("br-face-"+this._cpPosition.y)}}},setOuterHorizontalCPanel:function(){var ai=this._cpPosition.y,ah=this._$cpWrapper.height();this.createCPanelBg();this._$stage.css("padding-"+ai,h(this._options.cpanelGap,0));this._$rotator.css("margin-"+ai,ah).css({overflow:"visible"});this._$extPanel.css({left:0,width:"100%",height:ah}).css(ai,-ah);this.createBorderWrapper()},setOuterVerticalCPanel:function(){var ai=this._cpPosition.x,ah=this._$cpWrapper.width();this.createCPanelBg();this._$rotator.css("margin-"+ai,ah).css({overflow:"visible"});this._$extPanel.css({top:0,width:ah,height:"100%"}).css(ai,-ah);this.createBorderWrapper()},initButtons:function(){var ai,ah,aj;if(this._options.playButton){ai=O("<div/>",{"class":"br-play-button",title:this._rotate?this._options.pauseText:this._options.playText,html:"<div/>"}).toggleClass("br-pause",this._rotate).on("click"+this._namespace,O.proxy(this.togglePlay,this)).appendTo(this._$cpanel)}if(true===this._options.navButtons||"small"===this._options.navButtons){ah=O("<div/>",{"class":"br-prev-button",title:this._options.prevText,html:"<div/>"}).toggleClass("br-up","vertical"===this._orientation).on("click"+this._namespace,O.proxy(this.prevSlide,this));aj=O("<div/>",{"class":"br-next-button",title:this._options.nextText,html:"<div/>"}).toggleClass("br-down","vertical"===this._orientation).on("click"+this._namespace,O.proxy(this.nextSlide,this));if(ai){ai.before(ah).after(aj)}else{this._$cpanel.prepend(ah).append(aj)}}this._$cpanel.children(":not(.br-thumbnails)").css({width:this._options.buttonWidth,height:this._options.buttonHeight,margin:this._options.buttonMargin}).toggleClass("white",this._isWhite||this._$rotator.hasClass("white-button")).addTransitionClass("br-color-transition")},initSideButtons:function(){if("large"===this._options.navButtons){var aj=O("<div/>",{"class":"br-nav-wrapper"}).appendTo(this._$screen);var ah=O("<div/>",{"class":"br-side-prev",title:this._options.prevText,html:"<div/>"}).on("click"+this._namespace,O.proxy(this.prevSlide,this));var ak=O("<div/>",{"class":"br-side-next",title:this._options.nextText,html:"<div/>"}).on("click"+this._namespace,O.proxy(this.nextSlide,this));var ai=ah.add(ak).appendTo(aj).find(">div").addTransitionClass("br-element-transition");if(this._options.navButtonsOnHover){this.addOnHover(ai,"br-shrink")}}},initOuterButtons:function(){if(-1<O.inArray(this._options.navButtons,["outside","outer"])){this._$outmost=this._$rotator.wrap('<div class="br-outer-navs"></div>').parent();var aj=O("<div/>",{"class":"br-outer-prev",title:this._options.prevText,html:"<div/>"}).on("click"+this._namespace,O.proxy(this.prevSlide,this)).appendTo(this._$outmost);var ah=O("<div/>",{"class":"br-outer-next",title:this._options.nextText,html:"<div/>"}).on("click"+this._namespace,O.proxy(this.nextSlide,this)).appendTo(this._$outmost);var ai=h(this._options.sideButtonMargin,0);if(0<ai){aj.css({paddingRight:ai}).css({left:-aj.outerWidth()}).find(">div").css({marginLeft:"-="+ai/2});ah.css({paddingLeft:ai}).css({right:-ah.outerWidth()}).find(">div").css({marginLeft:"+="+ai/2})}if(this._options.navButtonsOnHover){this.addOnHover(aj.add(ah),"br-shrink")}}},initNavThumbs:function(){if(!ab&&this._options.navThumbs&&-1<O.inArray(this._options.navButtons,["large","outside","outer"])){var ao,ak,aj=O("<div/>",{"class":"br-prev-wrapper",data:{pos:"left"}}),am=O("<div/>",{"class":"br-next-wrapper",data:{pos:"right"}});if("large"===this._options.navButtons){aj=this._$screen.find(">.br-nav-wrapper>.br-side-prev").wrap(aj).parent();am=this._$screen.find(">.br-nav-wrapper>.br-side-next").wrap(am).parent()}else{ao=this._$outmost.find(">.br-outer-prev").data({wrapper:aj});ak=this._$outmost.find(">.br-outer-next").data({wrapper:am});ao.add(ak).each(O.proxy(function(at,ap){var aq=O(ap).data("wrapper"),ar=aq.data("pos");aq.insertAfter(O(ap)).css(ar,"+="+parseInt(this._$rotator.css("border-"+ar+"-width"),10))},this))}var ah=O("<div/>",{"class":"br-nav-thumb"}).on("click"+this._namespace,O.proxy(this.prevSlide,this)).prependTo(aj),an=O("<div/>",{"class":"br-nav-thumb"}).on("click"+this._namespace,O.proxy(this.nextSlide,this)).appendTo(am),al="";this._$items.each(function(ar,ap){var aq=O(ap).find(">img.br-img").data("nav-thumb");if(l.backgroundSize){al+='<div data-src="'+aq+'"></div>'}else{al+='<img data-src="'+aq+'"/>'}});ah.add(an).html(al);var ai=aj.add(am);ai.each(O.proxy(function(at,ap){var ar=O(ap).find(">.br-nav-thumb").css({width:this._options.navThumbWidth,height:this._options.navThumbHeight}),aq=ar.children().addTransitionClass("br-opacity-transition");O(ap).height(ar.outerHeight(true)).css({marginTop:-O(ap).outerHeight()/2,width:O(ap).children().brTotalWidth(true)});this.loadNextThumb(aq.toArray(),false)},this)).toggleClass("white",this._isWhite||this._$rotator.hasClass("white-nav-thumb"));if("large"===this._options.navButtons){ai.each(O.proxy(function(at,ap){var ar=O(ap).find(">.br-nav-thumb").addClass("br-transparent").addTransitionClass("br-opacity-transition"),aq=O(ap).data("pos");O(ap).css(aq,-ar.outerWidth(true)).on("mouseenter"+this._namespace,{pos:aq},O.proxy(this.showNavWrapper,this)).on("mouseleave"+this._namespace,{pos:aq},this.hideNavWrapper)},this))}else{ai.addClass("br-shrink").addTransitionClass("br-all-transition").on("mouseenter"+this._namespace,function(){O(this).addClass("br-hover-on")}).on("mouseleave"+this._namespace,function(){O(this).removeClass("br-hover-on").addClass("br-shrink")});ao.add(ak).on("mouseenter"+this._namespace,O.proxy(this.showNavThumb,this)).on("mouseleave"+this._namespace,this.hideNavThumb)}this._$rotator.on("updateNavThumbs"+this._namespace,O.proxy(function(){var at=this._$currItem.brPrev(),ar=this._$currItem.brNext(),ap=ah.children().eq(at.index()),aq=an.children().eq(ar.index());this.loadNavThumb(ap);this.loadNavThumb(aq);if(E){aj.data("thumb-kb",new u(ap,at.data("kb-effect")));if(aj.add(ao).hasClass("br-hover-on")){this.startNavKB(aj)}am.data("thumb-kb",new u(aq,ar.data("kb-effect")));if(am.add(ak).hasClass("br-hover-on")){this.startNavKB(am)}}},this))}},loadNavThumb:function(ah){ah.siblings().addBack().css({opacity:0});ah.reflow().css({opacity:1})},showNavWrapper:function(ai){var ah=O(ai.currentTarget),aj={};aj[ai.data.pos]=0;ah.animate(aj,{duration:T.ANIMATE_SPEED,queue:false,complete:function(){O(this).find(">.br-nav-thumb").removeClass("br-transparent")}}).addClass("br-hover-on");this.startNavKB(ah)},hideNavWrapper:function(aj){var ai=O(aj.currentTarget),al=ai.find(">.br-nav-thumb"),ah=al.data("margin")||0,ak={};ak[aj.data.pos]=-al.outerWidth(true)+ah;ai.stop(true,true).animate(ak,{duration:T.ANIMATE_SPEED,queue:false}).removeClass("br-hover-on");al.addClass("br-transparent")},showNavThumb:function(aj){var ah=O(aj.currentTarget).addClass("br-hover-on"),ai=ah.data("wrapper").removeClass("br-shrink");this.startNavKB(ai)},hideNavThumb:function(aj){var ah=O(aj.currentTarget).removeClass("br-hover-on"),ai=ah.data("wrapper");setTimeout(function(){if(!ai.hasClass("br-hover-on")){ai.addClass("br-shrink")}},100)},startNavKB:function(ai){var ah=ai.data("thumb-kb");if(ah){ah.restart()}},initThumbnails:function(){if(!ad(this._options.thumbnails)){this._$thumbPanel=O("<div/>",{"class":"br-thumbnails"}).prependTo(this._$cpanel);this._$thumbList=O("<ul/>").prependTo(this._$thumbPanel);for(var aj=0;aj<this._numItems;aj++){var ak=O("<li/>");switch(this._options.thumbnails){case"number":ak.html(aj+1);break;case"text":ak.html(this._$items.eq(aj).find(">img.br-img").attr("title"));break;case"image":var ai=(l.backgroundSize?O("<div/>"):O("<img/>",{alt:""}));ai.data({src:this._$items.eq(aj).find(">img.br-img").data("thumb")}).addTransitionClass("br-opacity-transition").wrap('<div class="br-img-wrapper"></div>');ak.addClass("br-img-thumb").prepend(ai.parent());break;case"bullet":ak.addClass("br-bullet");break}this._$thumbList.append(ak)}this._$thumbs=this._$thumbList.children();this._$thumbs.toggleClass("white",this._isWhite||this._$rotator.hasClass("white-thumb")).addTransitionClass("br-color-transition").on((this._options.selectOnHover?"mouseenter":"click")+this._namespace,O.proxy(this.selectSlide,this));if("bullet"!==this._options.thumbnails){if("image"===this._options.thumbnails){var ah=this._$thumbs.children();ah.css({width:this._options.thumbWidth-(ah.outerWidth(true)-ah.width()),height:this._options.thumbHeight-(ah.outerHeight(true)-ah.height())});this.loadNextThumb(ah.children().toArray(),true)}this._$thumbs.css({width:this._options.thumbWidth,height:this._options.thumbHeight,margin:this._options.thumbMargin,lineHeight:this._options.thumbHeight+"px"})}this._$thumbList.css("vertical"===this._orientation?{width:this._$thumbs.outerWidth(true)}:{height:this._$thumbs.outerHeight(true)});this._$rotator.on("rotatorChange",O.proxy(function(){this._$thumbs.eq(this._activeIndex).addClass("br-active").siblings().removeClass("br-active")},this));this.initTooltip()}},initLayer:function(ai){var ah=ai.children(":not(.tooltip, img.br-img)").addClass("br-layer"),aj=O("<div/>",{id:"br-layers-"+ai.index(),"class":"br-layer-bin",html:ah}).appendTo(this._$layerWrapper);ah.each(O.proxy(function(an,am){var al=O(am),ak={};if("auto"===am.style.width&&"auto"===am.style.height){al.css("white-space","nowrap")}O.each(ag,O.proxy(function(ap,ao){var ar=am.style[ao];if(O.isNumeric(parseInt(ar,10))){if(!R(ar)){var aq=(-1<O.inArray(ao,["top","bottom"])?this._stageHeight:this._stageWidth);al.css(ao,(I(ar,0)/aq*100)+"%")}al.css(w[ao],"auto")}ak["padding-"+ao]=I(al.css("padding-"+ao),0);ak["border-"+ao+"-width"]=I(al.css("border-"+ao+"-width"),0)},this));ak.width=O.isNumeric(parseInt(am.style.width,10))?al.width():"auto";ak.height=O.isNumeric(parseInt(am.style.height,10))?al.height():"auto";O.each(["fontSize","lineHeight","letterSpacing"],function(ao,ap){ak[ap]=parseInt(al.css(ap),10)});al.data({opacity:N(al.css("opacity"),1),metric:ak});O.each(["","Out"],O.proxy(function(ap,ao){var aq=["effect"+ao,"duration"+ao,"easing"+ao,"delay"+ao];al.brMapShorthand("transition"+ao,aq);O.each(aq,O.proxy(function(ar,at){al.data(at,S(al.data(at),this._options["layer"+F(at)]))},this));al.data("easing"+ao,k(al.data("easing"+ao),this._cssTransition))},this))},this))},initTooltip:function(){if(!ab&&!ad(this._options.tooltip)){var ah=O("<div/>",{"class":"br-tooltip-inner",css:{width:this._options.tooltipWidth,height:this._options.tooltipHeight}});this._$tooltip=O("<div/>",{"class":"br-tooltip br-tooltip-"+w[this._cpPosition["vertical"===this._orientation?"x":"y"]],html:ah.add('<div class="br-tail"/>')}).toggleClass("white",this._isWhite||this._$rotator.hasClass("white-tooltip")).prependTo(O("body"));if("image"===this._options.tooltip){this._$items.each(O.proxy(function(am,ak){var al=this._$thumbs.eq(am),aj=O(ak).find(">img.tooltip");if(aj.length&&aj.attr("src")){var ai=aj.clone().removeClass().addClass("br-transparent").appendTo(ah);aj.brHandleImage(aj.attr("src"),{complete:O.proxy(function(){aj.brFill(this._options.tooltipWidth,this._options.tooltipHeight);ai.css({top:aj.css("top"),left:aj.css("left"),width:aj.width(),height:aj.height()}).removeClass("br-transparent");aj.remove();if(E){al.data("tooltip-kb",new u(ai,O(ak).data("kb-effect")))}},this)});al.on("mouseenter"+this._namespace,O.proxy(function(an){this._$tooltip.stop(true,true);ai.show().siblings().hide();this.displayTooltip(O(an.currentTarget))},this)).on("mouseleave"+this._namespace,O.proxy(this.hideTooltip,this))}},this))}else{this._$items.each(O.proxy(function(ak,aj){var ai=O(aj).data("tooltip");if(!H(ai)){this._$thumbs.eq(ak).on("mouseenter"+this._namespace,O.proxy(function(al){this._$tooltip.stop(true,true);ah.html(ai);this.displayTooltip(O(al.currentTarget))},this)).on("mouseleave"+this._namespace,O.proxy(this.hideTooltip,this))}},this))}if(!l.pointerEvents&&document.elementFromPoint){this._$tooltip.on("mouseleave"+this._namespace,O.proxy(function(ai){if(!O(document.elementFromPoint(ai.clientX,ai.clientY)).closest(".banner-rotator").is(this._$rotator)){this._$outmost.trigger("mouseleave"+this._namespace)}},this))}}},displayTooltip:function(ak){var ah=(this._options.cpanelOutside?this._$extPanel:ak),aj,ai;if("vertical"===this._orientation){ai=ah.offset().left;if("left"===this._cpPosition.x){ai+=ah.width()}else{ai-=this._$tooltip.outerWidth()}aj=ak.offset().top-(this._$tooltip.height()-ak.height())/2}else{aj=ah.offset().top;if("top"===this._cpPosition.y){aj+=ah.height()}else{aj-=this._$tooltip.outerHeight()}ai=ak.offset().left-(this._$tooltip.width()-ak.width())/2}this._tooltipId=setTimeout(O.proxy(function(){this._$tooltip.css({opacity:0,top:aj,left:ai}).show().animate({opacity:1},T.ANIMATE_SPEED,function(){var al=ak.data("tooltip-kb");if(al){al.start()}})},this),this._options.tooltipDelay)},hideTooltip:function(ah){clearTimeout(this._tooltipId);if(this._$tooltip){this._$tooltip.stop(true).fadeOut(T.ANIMATE_SPEED)}},navigateTo:function(aj,ai,ah){this._interact=aj;if(this._interact&&this._options.pauseOnInteraction){this.pause()}if(!this._effects.inProgress()){if(this._options.layerOutSync){this.deferredLoad(ai,ah)}else{ai.apply(this,ah)}}},selectSlide:function(ai){var ah=(typeof ai==="number"?parseInt(ai,10):O(ai.currentTarget).index());if(r(ah,0,this._numItems-1)&&ah!==this._activeIndex){this.navigateTo(true,this.select,[ah])}},select:function(ah){this._backward=ah<this._activeIndex;this._activeIndex=ah;this.loadSlide()},prevSlide:function(){this.navigateTo(true,this.prev,[true])},prev:function(ah){this._backward=true;this._activeIndex=(0<this._activeIndex?(this._activeIndex-1):(this._numItems-1));if(ah){this.triggerEvent("prev",{index:this._activeIndex})}this.loadSlide()},nextSlide:function(){this.navigateTo(true,this.next,[true])},next:function(ah){this._backward=false;this._activeIndex=(this._numItems-1>this._activeIndex?(this._activeIndex+1):0);if(ah){this.triggerEvent("next",{index:this._activeIndex})}this.loadSlide()},rotateSlide:function(){this.navigateTo(false,this.next,[false])},togglePlay:function(){if(this._rotate){this.pause()}else{this.play()}},play:function(){if(!this._rotate){this._rotate=true;this._$cpanel.find(">.br-play-button").addClass("br-pause").attr({title:this._options.pauseText});if(!this._effects.inProgress()){this.resumeTimer()}this.triggerEvent("play",{index:this._activeIndex,delay:this._delay})}},pause:function(){if(this._rotate){this._rotate=false;this._$cpanel.find(">.br-play-button").removeClass("br-pause").attr({title:this._options.playText});if(!this._effects.inProgress()){this.pauseTimer()}this.triggerEvent("pause",{index:this._activeIndex,delay:this._delay})}},displayLayers:function(){this.stopLayers(true);this._layerIds=[];this._requestIds=[];var ah=this._$layerWrapper.find(">#br-layers-"+this._$currItem.index());ah.addClass("br-active-layers").siblings().removeClass("br-active-layers");ah.children().each(O.proxy(function(al,ak){var ai=O(ak),aj=h(ai.data("delay"),0);this._layerIds.push(setTimeout(O.proxy(function(){var am=requestAnimationFrame(O.proxy(function(){ai.css({opacity:ai.data("opacity"),margin:0,transform:"none"}).show();this.animateLayer(ai,false);this.queueLayerOut(ai)},this));this._requestIds.push(am)},this),aj))},this))},hideLayer:function(ah){ah.stopTransition(true,true).stopAnimation(true,true);this.animateLayer(ah,true);ah.data("promise",ah.promise())},animateLayer:function(am,aj){var ak=am.data(),ai=(aj?"Out":""),ap=ak["effect"+ai],ah={duration:parseInt(ak["duration"+ai],10),easing:ak["easing"+ai],complete:O.noop};if(/^slide/.test(ap)){ah.direction=ap.substring("slide".length).toLowerCase();ah.mode=(aj?"hide":"show");ah.transform=this._transform;am.brSlideEffect(ah);return}if(aj){if(ap in M){ap=M[ap]}ah.complete=function(){am.hide()}}if(/^(blur|flip|spin|zoom)/.test(ap)&&l.animation&&this._transform){var an="br-layer-"+b(ap);if(aj){an+="-out"}am.animation(an,ah)}else{var ao;if(/^(move|shift)/.test(ap)){var al=ap.match(/^(move|shift)/);ao=this["get"+F(al[0])+"Props"](am,ap.substring(al[0].length).toLowerCase())}else{if("none"===ap){ah.complete.call(this);return}else{ao={from:{opacity:0},to:{opacity:ak.opacity}}}}if(aj){ao={from:ao.to,to:ao.from}}am.css(ao.from).transition(ao.to,ah)}},queueLayerOut:function(ah){var ai=h(ah.data("delayOut"),0);if(0<ai){ah.promise().done(O.proxy(function(){this._layerIds.push(setTimeout(O.proxy(function(){this.hideLayer(ah)},this),ai))},this))}},stopLayers:function(ah){while(this._layerIds.length){clearTimeout(this._layerIds.pop())}while(this._requestIds.length){cancelAnimationFrame(this._requestIds.pop())}if(ah){this._$layers.stopTransition(true,true).stopAnimation(true,true)}},clearAllLayers:function(ai){this.stopLayers(true);var ah=this._$layers.filter(":visible");if(ai){ah.each(O.proxy(function(ak,aj){this.hideLayer(O(aj))},this))}else{ah.hide()}},getMoveProps:function(ar,ao){var an=("left"===ao||"right"===ao),ak=an?"outerWidth":"outerHeight",aj=("right"===ao||"down"===ao),ap={},aq={},am,ah,al;if(this._transform){if(an){am=ar.position().left;ah="translateX"}else{am=ar.position().top;ah="translateY"}}else{al=(an?"right":"bottom");if(O.isNumeric(parseInt(ar[0].style[al],10))){aj=!aj}else{al=w[al]}am=Math.round(parseFloat(ar[0].style[al])/100*this._$screen[ak]())}var ai=(aj?-(am+ar[ak]()+1):(this._$screen[ak]()-am)+1);if(this._transform){ap.transform=ah+"("+ai+"px)";aq.transform=ah+"(0px)"}else{ap["margin-"+al]=ai;aq["margin-"+al]=0}return{from:ap,to:aq}},getShiftProps:function(ap,am){var al=("left"===am||"right"===am),ai=("right"===am||"down"===am?-1:1),an={opacity:0},ao={opacity:1};if(this._transform){var ah="translate"+(al?"X":"Y");an.transform=ah+"("+(ai*100)+"%)";ao.transform=ah+"(0)"}else{var ak,aj;if(al){ak="right";aj="outerWidth"}else{ak="bottom";aj="outerHeight"}if(O.isNumeric(parseInt(ap[0].style[ak],10))){ai*=-1}else{ak=w[ak]}an["margin-"+ak]=ai*ap[aj]();ao["margin-"+ak]=0}return{from:an,to:ao}},deferredLoad:function(al,aj){if(!this._promise||"pending"!==this._promise.state()){this._$items.find(">img.br-img").off("load.display");this.resetTimer();this.stopLayers(false);var ai=this._$layers.filter(":visible");if(ai.length){var ak=[],ah=0;ai.each(O.proxy(function(ao,am){var an=O(am).data("promise");if(!an||"pending"!==an.state()){this.hideLayer(O(am))}ak.push(O(am).data("promise"));ah=Math.max(ah,O(am).data("duration-out"))},this)).removeData("promise");this._promise=O.when.apply(null,ak).always(O.proxy(function(){al.apply(this,aj)},this));setTimeout(function(){ai.dequeue()},ah+100)}else{al.apply(this,aj)}}},loadSlide:function(){this._$items.find(">img.br-img").off("load.display");this.resetTimer();this._effects.clear();this._$linkWrapper.children().hide();this.clearAllLayers(true);var aj={index:this._activeIndex};this.triggerEvent("change",aj);if(0===this._activeIndex){this.triggerEvent("first",aj)}if(this._numItems-1===this._activeIndex){this.triggerEvent("last",aj)}var ah=this._$items.eq(this._activeIndex);if(ah.data("ready")){this.displayContent(ah)}else{this._$preloader.show();var ai=ah.find(">img.br-img");ai.brHandleImage(ai.data("src"),{namespace:"display",complete:O.proxy(function(){if(!ah.data("ready")){this.processImage(ah)}this.displayContent(ah)},this)})}},displayContent:function(ah){this._$preloader.hide();this._$prevItem=this._$currItem;this._$currItem=ah;var aj=this._$currItem.data();this._$rotator.trigger("updateNavThumbs"+this._namespace);if(this._options.hideControl){this._$controls.addClass("br-transparent");this.hideTooltip()}if(!this._options.layerSync){this.displayLayers()}if(E||!ab){this._kBurns=new u(this._$currItem.find(">img.br-img"),aj.kbEffect,{duration:P(aj.kbDuration,aj.delay),easing:aj.kbEasing})}var ai=(!this._options.effectOnInteraction&&this._interact)||(!this._options.effectOnStart&&!this._$prevItem);if(ai||(0>O.inArray(aj.effect,q.EFFECTS)&&"random"!==aj.effect)){this.activateItem(false)}else{this._effects.start(aj)}},activateItem:function(ah){if(!ah){this.triggerEvent("changed",{index:this._activeIndex})}this._$currItem.css({visibility:"visible"}).siblings().css({visibility:"hidden"});this._$linkWrapper.children("a#br-link-"+this._$currItem.index()).show();if(ah||this._options.layerSync){this.displayLayers()}if(this._options.hideControl){this._$controls.removeClass("br-transparent")}this.startTimer()},loadNextImage:function(ai,ah){if(ai.length){this.loadImage(O(ai.shift())).always(O.proxy(function(){if(this._$progressBar){this._$progressBar.children().width((this._numItems-ai.length)/this._numItems*100+"%")}this.loadNextImage(ai,ah)},this))}else{if(O.isFunction(ah)){ah.call(this)}}},loadImage:function(ai){var ah=O.Deferred(),aj=ai.find(">img.br-img");aj.brHandleImage(aj.data("src"),{complete:O.proxy(function(){if(!ai.data("ready")){this.processImage(ai)}ah.resolve()},this),error:function(){ah.reject()}});return ah.promise()},loadNextThumb:function(ai,ah){if(ai.length){this.loadThumb(O(ai.shift()),ah).always(O.proxy(function(){this.loadNextThumb(ai,ah)},this))}},loadThumb:function(ak,ah){var ai=O.Deferred(),aj=(ak.is("img")?ak:O("<img/>"));aj.brHandleImage(ak.data("src"),{complete:function(){if(ak.is("img")){ak.brFill(ak.parent().width(),ak.parent().height())}else{ak.css({backgroundImage:"url("+ak.data("src")+")"})}if(ah){ak.css({opacity:1})}ai.resolve()},error:function(){ai.reject()}});return ai.promise()},processImage:function(aj){aj.data("ready",true);var ak=aj.find(">img.br-img"),ai=aj.data("imagePosition"),ah=(ai+"").split(" ",2);if(2===ah.length){O.each(["left","top"],function(ao,ap){var aq=ah[ao];if(O.isNumeric(parseInt(aq,10))){ak.css(ap,O.isNumeric(aq)?parseInt(aq,10):aq)}})}else{if(-1<O.inArray(ai,["fill","fit","stretch","center"])){var an="br"+F(ai);if(O.isFunction(ak[an])){ak[an](this._stageWidth,this._stageHeight)}}}if(this._options.responsive){var am=this._$stage.width()/this._stageWidth,al={top:parseInt(ak.css("top"),10),left:parseInt(ak.css("left"),10),width:ak.width(),height:ak.height()};ak.data("metric",al);O.each(al,function(ao,ap){ak.css(ao,Math.round(am*ap))})}this.triggerEvent("load",{index:aj.index()})},startTimer:function(){this._delay=P(this._$currItem.data("delay"),O.fn.bannerRotator.defaults.delay);this.resumeTimer()},resumeTimer:function(){if(this._rotate&&0<this._delay){this._start=O.now();this._timeout=setTimeout(O.proxy(this.rotateSlide,this),this._delay);if(this._kBurns){this._kBurns.start()}if(this._timer){this._timer.start(this._delay)}}},resetTimer:function(ah){this._delay=0;clearTimeout(this._timeout);if(this._kBurns){this._kBurns[ah?"set":"stop"]()}if(this._timer){this._timer.stop()}},pauseTimer:function(){if(this._start){this._delay-=(O.now()-this._start)}clearTimeout(this._timeout);if(this._kBurns){this._kBurns.stop()}if(this._timer){this._timer.pause()}},addOnHover:function(ai,ah){if(!ab){ai.addClass(ah).addTransitionClass("br-all-transition");this._$outmost.on("mouseenter"+this._namespace,function(){ai.removeClass(ah)}).on("mouseleave"+this._namespace,O.proxy(function(aj){if(!this.onTooltip(aj)){ai.addClass(ah)}},this))}},addThumbScroll:function(){this._$rotator.on("rotatorChange",O.proxy(this.syncThumbs,this));if(!ab){var al=k("easeOutCirc",false),ai=this._$cpanel.data(),ak=ai.pos,aj=ai.dim,ah="page"+F(ai.coord);this._$thumbPanel.on("mouseenter"+this._namespace,function(){O(this).addClass("br-hover-on")}).on("mouseleave"+this._namespace,function(){O(this).removeClass("br-hover-on")}).on("mousemove"+this._namespace,O.proxy(function(an){var am=(an[ah]-this._$thumbPanel.offset()[ak])/this._$thumbPanel[aj]();prop={};prop[ak]=this._$thumbPanel.data("range")*am;this._$thumbList.animate(prop,{duration:T.ANIMATE_SPEED,easing:al,queue:false})},this))}},syncThumbs:function(){if(!this._$thumbPanel.hasClass("br-hover-on")){var aj=this._$cpanel.data(),ai=this._$thumbs.eq(this._activeIndex).offset()[aj.pos],ah=this._$thumbPanel.offset()[aj.pos],ak={};if(ai<ah){ak[aj.pos]=-this._activeIndex*this._$thumbs[aj.outerDim](true)}else{if(ai+this._$thumbs[aj.dim]()>ah+this._$thumbPanel[aj.dim]()){ak[aj.pos]=(this._numItems-1-this._activeIndex)*this._$thumbs[aj.outerDim](true)+this._$thumbPanel.data("range")}}if(!O.isEmptyObject(ak)){this._$thumbList.animate(ak,{duration:T.ANIMATE_SPEED,queue:false})}}},resizeCPanel:function(){var ah=this._$cpanel.data(),aj=ah.pos,ai=ah.dim;this._$thumbPanel.css(ai,Math.min(this._$screen[ai]()-this._cpanelMargin-this._buttonSize,this._$thumbList[ai]())).data({range:this._$thumbPanel[ai]()-this._$thumbList[ai]()});this._$thumbList.stop().css(aj,Math.max(this._$thumbPanel.data("range"),this._$thumbList.position()[aj]));this._$rotator.find(">.br-ext-cp").css(ai,this._$screen[ai]());if("center"===this._cpPosition[ah.coord]){this._$cpanel.css(aj,-this._$cpanel[ah.outerDim](true)/2)}},touchStart:function(ah){this._swipeMove=0;if(1===ah.originalEvent.touches.length){this._swipeStart=new Date();this._startX=ah.originalEvent.touches[0].pageX;this._startY=ah.originalEvent.touches[0].pageY;this._$rotator.on("touchmove"+this._namespace,O.proxy(this.touchMove,this)).one("touchend"+this._namespace,O.proxy(this.touchEnd,this))}},touchMove:function(aj){var ah=this._startX-aj.originalEvent.touches[0].pageX,ai=this._startY-aj.originalEvent.touches[0].pageY;if("vertical"===this._options.swipe){this._swipeMove=ai;this._isSwipe=Math.abs(this._swipeMove)>Math.abs(ah)}else{this._swipeMove=ah;this._isSwipe=Math.abs(this._swipeMove)>Math.abs(ai)}if(this._isSwipe){aj.preventDefault()}},touchEnd:function(ah){this._$rotator.off("touchmove"+this._namespace);if(this._isSwipe){if(Math.abs(this._swipeMove)>50){if(this._swipeMove<0){this.swipeBack()}else{this.swipeFwd()}}}},mousescroll:function(ah){ah.preventDefault();var ai=(ah.originalEvent.wheelDelta?ah.originalEvent.wheelDelta:-ah.originalEvent.detail);if(0<ai){this.prevSlide()}else{this.nextSlide()}},keyControl:function(ah){switch(ah.which){case 35:this.selectSlide(this._numItems-1);break;case 36:this.selectSlide(0);break;case 37:this.prevSlide();break;case 39:this.nextSlide();break;case 32:this.togglePlay();break;default:return}ah.preventDefault()},resize:function(){if(O(window).width()!==this._winWidth){this._winWidth=O(window).width();this.resetTimer(true);this.clearAllLayers(false);this._effects.clear();var ah=this._$stage.width()/this._stageWidth;this._$stage.css({height:Math.round(ah*this._stageHeight)});this._$screen.css({width:this._$stage.width(),height:this._$stage.height()});this._$items.each(function(ak,aj){if(O(aj).data("ready")){var ai=O(aj).find(">img.br-img");O.each(ai.data("metric"),function(al,am){ai.css(al,Math.round(ah*am))})}});this._$layers.each(function(aj,ai){O.each(O(ai).data("metric"),function(ak,al){if(O.isNumeric(al)){O(ai).css(ak,Math.ceil(ah*al)+"px")}})});this._$rotator.trigger("resizeCPanel"+this._namespace);if(this._$currItem&&this._$currItem.data("ready")){this.activateItem(true)}}},onTooltip:function(ah){if(!l.pointerEvents&&document.elementFromPoint){return O(document.elementFromPoint(ah.clientX,ah.clientY)).closest(".br-tooltip").is(this._$tooltip)}return false},triggerEvent:function(ah,ai){ah=F(ah);ai=ai||{};this._$rotator.trigger(T.PLUGIN+ah,ai);var aj=this._options["on"+ah];if(O.isFunction(aj)){aj.call(this,ai)}},getOption:function(ah){if(typeof ah==="string"){return this._options[ah]}return this._options},destroy:function(){this.resetTimer();this.stopLayers(true);this._effects.clear();O(window).add(O(document)).off(this._namespace);this._$rotator.find("*").addBack().off(this._namespace).removeData();O.each(T.EVENTS,O.proxy(function(ai,ah){this._$rotator.off(T.PLUGIN+F(ah))},this));if(this._$tooltip){this._$tooltip.remove()}O.each([".br-wrapper",".br-outer-navs"],O.proxy(function(ai,ah){if(this._$rotator.parent(ah).length){this._$rotator.parent(ah).children(":not(.banner-rotator)").remove();this._$rotator.unwrap()}},this));this._$rotator.html(this._html).attr({style:this._style}).removeClass("br-flat-shadow br-no-touch")}};function X(ai){var ah=ai.children().toArray();v(ah);ai.append(ah)}function L(aj){var ai={},ah=aj.split(" ",2);if(2!==ah.length){ah=b(aj).split("-")}ai.x=Z(ah[0],["left","center","right"],"left");ai.y=Z(ah[1],["top","center","bottom"],"bottom");return ai}function k(ai,ah){if(ah){if(!(ai in V)){return"ease"}}else{if(!(ai in O.easing)){return"swing"}}return ai}function t(ah){return ah[Math.floor(Math.random()*ah.length)]}function r(aj,ai,ah){return(O.isNumeric(aj)&&ai<=aj&&aj<=ah)}function ad(ah){return(typeof ah==="undefined"||false===ah||"none"===ah)}function H(ah){return(typeof ah==="undefined"||""===O.trim(ah))}function I(ah,ai){ah=parseInt(ah,10);return(O.isNumeric(ah)?ah:ai)}function P(ah,ai){ah=parseInt(ah,10);return(O.isNumeric(ah)&&0<ah?ah:ai)}function h(ah,ai){ah=parseInt(ah,10);return(O.isNumeric(ah)&&0<=ah?ah:ai)}function N(ah,ai){ah=parseFloat(ah);return(O.isNumeric(ah)?ah:ai)}function S(ah,ai){return(typeof ah!=="undefined"?ah:ai)}function Z(ai,ah,aj){return(-1<O.inArray(ai,ah)?ai:aj)}function R(ai){ai+="";var ah=ai.length-1;return"%"===ai.charAt(ah)&&O.isNumeric(ai.substring(0,ah))}function G(aj,ai){var ah=Math.pow(10,ai);return Math.round(aj*ah)/ah}function B(ah){return/[^\s]+\.(bmp|gif|jpg|jpeg|png|tiff)$/i.test(ah)}function m(ao){var ak=document.createElement("div"),aj=ak.style,ah=false;if(ao in aj){ah=ao}else{var al=F(ao),am=["Moz","Webkit","O","ms"];for(var ai=0;ai<am.length;ai++){var an=am[ai]+al;if(an in aj){ah=an;break}}}ak=null;l[ao]=ah;return ah}function ae(ai){var ah="android",ak=navigator.userAgent.toLowerCase(),aj=ak.indexOf(ah);return(-1<aj&&(typeof ai==="undefined"||parseFloat(ak.substring(aj+ah.length))<=ai))}function ac(){return/Chrome|CriOS/.test(navigator.userAgent)}function b(ah){return(ah+"").replace(/([A-Za-z])([A-Z])/g,"$1-$2").toLowerCase()}function g(ah){return(ah+"").replace(/([A-Za-z])(-)([A-Za-z])/g,function(ai,al,ak,aj){return(al+aj.toUpperCase())})}function c(al,ak){if(false===al){return false}var aj=b(al).replace(/^(moz-|webkit-|o-|ms-)/,"-$1"),ai=document.createElement("div"),ah;ai.style[aj]=ak;ah=-1<(ai.style[aj]+"").indexOf(ak);ai=null;return ah}function aa(){var ai=document.createElement("div"),aj=" -webkit- -moz- -o- -ms- ".split(" "),ah=aj.join("filter:blur(2px); ");ai.style.cssText=ah;return !!ai.style.length&&(document.documentMode===undefined||document.documentMode>9)}function v(ah){var ak=ah.length;while(0<--ak){var ai=Math.floor(Math.random()*(ak+1)),aj=ah[ak];ah[ak]=ah[ai];ah[ai]=aj}}function F(ah){ah+="";return ah.charAt(0).toUpperCase()+ah.substring(1)}function z(ah){return(ah*Math.PI/180)}function y(ah){return o.concat(["",""]).join("transform:"+ah+";")}function f(ai,ak,ah){var aj;return function(){var ao=this,an=arguments;var am=function(){aj=null;if(!ah){ai.apply(ao,an)}};var al=ah&&!aj;clearTimeout(aj);aj=setTimeout(am,ak);if(al){ai.apply(ao,an)}}}function a(ah){return O.map(ah,function(aj,ai){return ai})}function x(ah,aj,ak,ai){O.each(aj,function(al,am){O.each(ak,function(an,ao){O.each(ai,function(aq,ap){ah.push({effect:am,direction:ao,order:ap})})})})}function U(ai){var ah={width:ai.width(),height:ai.height()},aj=O("<div/>",{"class":"br-effect-wrapper",css:{position:ai.css("position"),"float":ai.css("float"),width:ai.outerWidth(true),height:ai.outerHeight(true),"z-index":ai.css("z-index"),top:ai[0].style.top,left:ai[0].style.left,bottom:ai[0].style.bottom,right:ai[0].style.right}});ai.wrap(aj).css({display:"block",position:"relative",top:0,bottom:"auto",left:0,right:"auto"}).css(ah)}function D(ah){if(ah.parent().hasClass("br-effect-wrapper")){ah.unwrap()}}function K(ah,ai){O.each(ai,function(aj,ak){ah.data("style-"+ak,ah[0].style[ak])})}function C(ah,ai){O.each(ai,function(aj,al){var ak=ah.data("style-"+al);ah.css(al,(typeof ak==="undefined"?"":ak))})}O.fn.brSlideEffect=function(ak){var aj=["display","position","top","left","bottom","right","width","height"],al="left"===ak.direction||"right"===ak.direction,ah=("right"===ak.direction||"down"===ak.direction?-1:1),ai="hide"===ak.mode;return this.each(function(){var an=O(this),au={},at={};if(ak.transform){var aq="translate"+(al?"X":"Y"),ao=ah*100,am=0;if(ai){am=-ao;ao=0}au.transform=aq+"("+ao+"%)";at.transform=aq+"("+am+"%)"}else{var ar,ap;if(al){ar="left";ap=an.outerWidth(true)}else{ar="top";ap=an.outerHeight(true)}au[ar]=ah*ap;at[ar]=0;if(ai){at[ar]=-au[ar];au[ar]=0}}K(an,aj);U(an);an.css(au).transition(at,ak.duration,ak.easing,function(){C(an,aj);if(ai){an.hide()}D(an)})})};O.each(["width","height"],function(ai,aj){var ah="natural"+F(aj);O.fn[ah]=function(){var am=this[0],al;if(typeof am[ah]!=="undefined"){al=am[ah]}else{var ak=document.createElement("img");ak.src=this.attr("src");al=ak[aj]}return al}});O.fn.brCenter=function(ai,ah){return this.each(function(){O(this).css({top:(ah-O(this).naturalHeight())/2,left:(ai-O(this).naturalWidth())/2})})};O.fn.brFill=function(ai,ah){return this.each(function(){var ak=O(this).naturalWidth()/O(this).naturalHeight(),aj=ai/ah;if(ak<aj){O(this).css({width:ai,height:ai/ak})}else{O(this).css({width:ah*ak,height:ah})}O(this).css({top:(ah-O(this).height())/2,left:(ai-O(this).width())/2})})};O.fn.brFit=function(ai,ah){return this.each(function(){var ak=O(this).naturalWidth()/O(this).naturalHeight(),aj=ai/ah;if(ak<aj){O(this).css({width:ah*ak,height:ah})}else{O(this).css({width:ai,height:ai/ak})}O(this).css({top:(ah-O(this).height())/2,left:(ai-O(this).width())/2})})};O.fn.brStretch=function(ai,ah){return this.each(function(){O(this).css({top:0,left:0,width:ai,height:ah})})};O.fn.brMapShorthand=function(ah,ai){return this.each(function(){var al=O(this).data(ah);if(!H(al)){var aj=al.split(" ");for(var ak=0;ak<aj.length&&ak<ai.length;ak++){O(this).data(ai[ak],aj[ak])}}})};O.fn.brTotalWidth=function(ah){var ai=0;this.each(function(){ai+=O(this).outerWidth(ah)});return ai};O.fn.brTotalHeight=function(ai){var ah=0;this.each(function(){ah+=O(this).outerHeight(ai)});return ah};O.fn.brHandleImage=function(al,aj){var ah=O.isFunction(aj.complete)?aj.complete:O.noop,ai=O.isFunction(aj.error)?aj.error:O.noop,ak="load";if(!H(aj.namespace)){ak+="."+aj.namespace}return this.each(function(ao,am){var an=O(am);if(an.is("img")){an.attr("src","").one(ak,ah).error(ai).attr("src",al);if(typeof am.readyState!=="undefined"){if("complete"===am.readyState){an.trigger("load")}}else{if(am.complete){an.trigger("load")}}}})};O.fn.brPrev=function(ah){ah=ah||"";return this.prev(ah).length?this.prev(ah):this.siblings(ah).addBack(ah).last()};O.fn.brNext=function(ah){ah=ah||"";return this.next(ah).length?this.next(ah):this.siblings(ah).addBack(ah).first()};O.fn.brHasBorder=function(){for(var ah=0;ah<ag.length;ah++){if(0<parseInt(O(this).css("border-"+ag[ah]+"-width"),10)){return true}}return false};O.fn.brCopyBorder=function(ai){var aj=["width","style","color"],ah=["TopLeft","TopRight","BottomLeft","BottomRight"];return this.each(function(){for(var ao=0;ao<ag.length;ao++){for(var an=0;an<aj.length;an++){var am="border-"+ag[ao]+"-"+aj[an];O(this).css(am,ai.css(am))}}for(var al=0;al<ah.length;al++){var ak="border"+ah[al]+"Radius";O(this).css(ak,ai.css(ak))}})};O.fn.animation=function(){var ai=arguments[0],am,ao,aq,ar,al,ak,an;if(typeof arguments[1]==="object"){var ah=arguments[1];am=ah.duration;ao=ah.easing;aq=ah.direction;ar=ah.playState;al=ah.fillMode;ak=ah.complete;an=ah.always}else{am=arguments[1];ao=arguments[2];ak=arguments[3]}am=S(am,400);ao=S(ao,"ease");aq=S(aq,"normal");ar=S(ar,"running");al=S(al,"forwards");var aj=(ao in V?V[ao]:ao),ap={animationName:ai,animationDuration:am+"ms",animationTimingFunction:aj,animationDirection:aq,animationPlayState:ar,animationFillMode:al};return this.each(function(){var at=O(this);at.queue(function(){if(O.isFunction(ak)){at.one(W,ak)}if(O.isFunction(an)){at.one(W+".always",an)}at.one(W,function(){at.dequeue()});at.reflow().css(ap)})})};O.fn.stopAnimation=function(ah,ai){return this.each(function(){var aj=O(this);if(ah){aj.clearQueue()}clearTimeout(aj.data("timeout"));if(ai){aj.trigger(W)}else{aj.trigger(W+".always").off(W)}aj.css({animation:"none"}).dequeue()})};O.fn.transition=function(){var ak=arguments[0],am,an,aj,ai,ah;if(typeof arguments[1]==="object"){var al=arguments[1];am=al.duration;an=al.easing;aj=al.delay;ai=al.complete;ah=al.always}else{am=arguments[1];an=arguments[2];ai=arguments[3]}am=S(am,400);an=S(an,"ease");aj=S(aj,0);ak.transition="all "+am+"ms "+V[an]+" "+aj+"ms";return this.each(function(){var ao=O(this);ao.queue(function(){if(O.isFunction(ai)){ao.one(Y,ai)}if(O.isFunction(ah)){ao.one(Y+".always",ah)}ao.one(Y,function(){ao.dequeue()});ao.forceEnd(Y,am).reflow().css(ak)})})};O.fn.stopTransition=function(ah,ai){return this.each(function(){var aj=O(this);if(ah){aj.clearQueue()}clearTimeout(aj.data("timeout"));if(ai){aj.trigger(Y)}else{aj.trigger(Y+".always").off(Y)}aj.css({transition:"none",transitionDuration:"0s"}).dequeue()})};O.fn.reflow=function(){return this.each(function(){var ah=this.offsetWidth})};O.fn.forceEnd=function(ai,ah){return this.each(function(){var aj=O(this),ak=false;aj.one(ai,function(){ak=true}).data("timeout",setTimeout(function(){if(!ak){aj.trigger(ai)}},ah+50))})};O.fn.addTransitionClass=function(ah){return this.each(function(){if(l.transition&&!e){O(this).reflow().addClass(ah)}})};var d={play:"play",pause:"pause",togglePlay:"togglePlay",prev:"prevSlide",next:"nextSlide",to:"selectSlide",option:"getOption",destroy:"destroy"};O.fn.bannerRotator=function(){var ah=arguments,aj=ah[0];if(aj in d){var ak=d[aj],ai;this.each(function(an,am){var al=O(am).data(T.PLUGIN);if(al){ai=al[ak].apply(al,Array.prototype.slice.call(ah,1));if(typeof ai!=="undefined"){return false}}});return(typeof ai!=="undefined"?ai:this)}else{if(typeof aj==="object"||!aj){return this.each(function(ao,al){var am=O.extend(true,{},O.fn.bannerRotator.defaults,aj),an=(O.metadata?O.extend({},am,O.metadata.get(this)):am);O(al).data(T.PLUGIN,new T(al,an))})}}};O.fn.bannerRotator.defaults={responsive:true,width:1000,height:400,thumbWidth:32,thumbHeight:32,thumbMargin:3,buttonWidth:32,buttonHeight:32,buttonMargin:3,sideButtonMargin:0,tooltipWidth:"auto",tooltipHeight:"auto",navThumbWidth:100,navThumbHeight:75,autoPlay:true,delay:6000,startIndex:0,pauseOnHover:false,pauseOnInteraction:false,playOnce:false,timer:"pie",timerPosition:"right top",cssTransition:true,effect:"fade",duration:800,easing:"",effectOnStart:true,columns:1,rows:1,interval:100,alternate:false,autoReverse:true,depth:0,shapeShading:true,shapeDepth:0,kbEffect:"none",kbDuration:"auto",kbEasing:"linear",cpanelPosition:"left bottom",cpanelOrientation:"horizontal",cpanelOutside:false,cpanelOnHover:false,thumbnails:"number",selectOnHover:false,tooltip:"text",tooltipDelay:0,navButtons:"small",navButtonsOnHover:false,navThumbs:false,playButton:true,groupButtons:false,cpanelGap:0,hideControl:false,effectOnInteraction:true,layerEffect:"fade",layerDuration:500,layerEasing:"",layerDelay:0,layerEffectOut:"fade",layerDurationOut:500,layerEasingOut:"",layerDelayOut:0,layerSync:true,layerOutSync:true,layerOnHover:false,imagePosition:"fill",preload:false,shuffle:false,keyboard:true,mousewheel:false,swipe:"horizontal",swipeDirection:"normal",playText:"play",pauseText:"pause",prevText:"previous",nextText:"next"}})(jQuery);
